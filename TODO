
- There is a lot of heartbeat overhead. See if we can reduce that.
- Implement spooling logic to handle subprocesses which generate
  a bunch of output after we have detached.
- Exit with a success error code when a session gets manually detached (either
  via shpool detach or with the upcoming detach keybinding).
- Allow users to specify a command to run instead of their default shell.

