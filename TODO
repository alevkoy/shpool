
- start pinning down behavior by actually writing tests for these various cases
    - basic attach test
    - attach, then reconnect
    - attach, write exit to the shell
    - test for ssh plugin mode commands
- forward signals to the inner shell correctly
    - transmit resize signals to the pty whenever an attach process gets a
      SIGWINCH
    - Forward SIGINT (^C), SIGTSTP (^Z)
- come up with some sort of keybinding to exit the shpool shell.
  make it configurable via the daemon's toml file. (Or maybe just
  make users use commands to do this? That won't work for long running
  processes though).
- Pass TERM along so that `reset` works
- Read input from terminal emulator byte by byte so that zsh autocomplete
  works.
- There is a lot of heartbeat overhead. See if we can reduce that.
- Get ssh extension mode to be compatible with ssh multiplexing so
  it only requires a single gnubby touch.


There is a cool pair of signals that might be useful for dealing with IO
from the shell after a network drop. SIGTIN/SIGTOUT suspend a background
process if they try to read or write to the termianl. It causes them
to pause and wait for a SIGCONT just like ^Z does. This might present an
alternative approach instead of spooling the output.
